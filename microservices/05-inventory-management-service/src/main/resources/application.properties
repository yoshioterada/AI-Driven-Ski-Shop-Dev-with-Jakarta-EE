# Configuration file
quarkus.application.name=inventory-management-service
quarkus.application.version=1.0.0

# HTTP Configuration
quarkus.http.port=8085
quarkus.http.cors=true
quarkus.http.cors.origins=*

# Database Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USERNAME:inventory}
quarkus.datasource.password=${DB_PASSWORD:inventory}
quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/inventory_db}

# Hibernate Configuration
quarkus.hibernate-orm.database.generation=none
quarkus.flyway.migrate-at-start=true
quarkus.flyway.locations=classpath:db/migration

# Redis Configuration
quarkus.redis.hosts=${REDIS_URL:redis://localhost:6379}

# Kafka Configuration
kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}

# Reactive Messaging Configuration
mp.messaging.incoming.product-events.connector=smallrye-kafka
mp.messaging.incoming.product-events.topic=product-events
mp.messaging.incoming.product-events.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.product-events.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.product-events.group.id=inventory-service

mp.messaging.outgoing.inventory-events.connector=smallrye-kafka
mp.messaging.outgoing.inventory-events.topic=inventory-events
mp.messaging.outgoing.inventory-events.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.inventory-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer

# Reservation Events Channel
mp.messaging.outgoing.reservation-events.connector=smallrye-kafka
mp.messaging.outgoing.reservation-events.topic=reservation-events
mp.messaging.outgoing.reservation-events.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.reservation-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer

# OpenAPI Configuration
quarkus.smallrye-openapi.info-title=Inventory Management Service API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=REST API for inventory management operations

# Health Check Configuration
quarkus.smallrye-health.root-path=/health

# Metrics Configuration
quarkus.micrometer.export.prometheus.enabled=true

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."com.ski.shop.inventory".level=DEBUG
quarkus.log.console.json=false

# Cache Configuration
quarkus.cache.caffeine."equipment-cache".maximum-size=1000
quarkus.cache.caffeine."equipment-cache".expire-after-write=PT30M

quarkus.cache.caffeine."equipment-list".maximum-size=500
quarkus.cache.caffeine."equipment-list".expire-after-write=PT15M

quarkus.cache.caffeine."equipment-list-advanced".maximum-size=500
quarkus.cache.caffeine."equipment-list-advanced".expire-after-write=PT15M

quarkus.cache.caffeine."equipment-detail".maximum-size=2000
quarkus.cache.caffeine."equipment-detail".expire-after-write=PT30M

# Redis Cache Configuration
quarkus.redis.timeout=10s
quarkus.redis.max-pool-size=20
quarkus.redis.max-pool-waiting=50

# Reservation Configuration
inventory.reservation.default-timeout-minutes=${RESERVATION_DEFAULT_TIMEOUT:30}
inventory.reservation.max-timeout-minutes=${RESERVATION_MAX_TIMEOUT:120}
inventory.reservation.warning-minutes=${RESERVATION_WARNING_MINUTES:10}

# Pricing Configuration
inventory.pricing.tax-rate=${PRICING_TAX_RATE:0.10}
inventory.pricing.peak-season-multiplier=${PRICING_PEAK_MULTIPLIER:1.5}
inventory.pricing.off-season-multiplier=${PRICING_OFF_MULTIPLIER:0.8}
inventory.pricing.weekend-multiplier=${PRICING_WEEKEND_MULTIPLIER:1.2}
inventory.pricing.premium-discount=${PRICING_PREMIUM_DISCOUNT:0.10}
inventory.pricing.vip-discount=${PRICING_VIP_DISCOUNT:0.15}
inventory.pricing.bulk-threshold=${PRICING_BULK_THRESHOLD:5}
inventory.pricing.bulk-discount-rate=${PRICING_BULK_DISCOUNT:0.05}